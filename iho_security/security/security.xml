<?xml version="1.0" encoding="utf-8"?>
<odoo noupdate="0">
    <record id="group_sale_salesman_readonly" model="res.groups">
        <field name="name">Branch Manager</field>
        <field name="category_id" ref="base.module_category_sales_management"/>
        <field name="comment">The user will have access to his own people data.</field>
        <field name="implied_ids" eval="[(6, 0, [ref('sales_team.group_sale_salesman')])]"/>
        <field name="menu_access" eval="[(4, ref('crm.crm_menu_root')), (4, ref('crm.crm_activity_report_menu')), (4, ref('crm.crm_menu_report'))]"/>
    </record>
    <record id="group_sale_salesman_opportunities" model="res.groups">
        <field name="name">Group Can change Opportunity name</field>
        <field name="category_id" ref="base.module_category_sales_management"/>
        <field name="comment">This user can edit opportunities name.</field>
    </record>
    <record id="sales_team.group_sale_salesman_all_leads" model="res.groups">
        <field name="name">Senior Salesman</field>
        <field name="implied_ids" eval="[(4, ref('iho_security.group_sale_salesman_opportunities'))]"/>
    </record>
    <record id="sales_team.group_sale_salesman" model="res.groups">
        <field name="name">Salesman</field>
    </record>
    <record id="sales_team.group_sale_manager" model="res.groups">
        <field name="name">CRM coordinator</field>
    </record>
    <record id="group_sale_salesman_no_create_leads" model="res.groups">
        <field name="name">Only create Opportunities</field>
        <field name="comment">This user can edit opportunities name.</field>
    </record>
    <record id = "group_manager_catalogs" model="res.groups">
        <field name="name">Catalog Administrator</field>
        <field name="comment">The user can will do anything with enought modules.</field>
    </record>
    <record id="crm_senior_only_follower" model="ir.rule">
        <field name="name">CRM Senior Only Follower </field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain_force">[('message_partner_ids.user_ids','in',user.ids),('type','=','lead')]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="crm_senior_follower_and_creator" model="ir.rule">
        <field name="name">CRM Senior Follower</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain_force">[('message_partner_ids.user_ids','in',user.ids),('type','!=','lead')]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="True"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="crm_senior_salesman_creator" model="ir.rule">
        <field name="name">CRM Senior Salesman Creator</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain_force">[('create_uid','=',user.id),('type','=','opportunity')]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="True"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="sales_senior_only_follower" model="ir.rule">
        <field name="name">Sales Senior Only Follower</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain_force">[('message_partner_ids.user_ids','in',user.ids), ('user_id','!=',user.id)]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="sales_senior_follower_and_creator" model="ir.rule">
        <field name="name">Sales Senior Follower</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain_force">[('message_partner_ids.user_ids','in',user.ids), ('user_id','=',user.id)]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="sale_order_senior_authorized" model="ir.rule">
        <field name="name">Senior can modify if SO is authorized</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain_force">[('message_partner_ids.user_ids','in',user.ids), ('authorized', '=', True)]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="sales_cell_manager" model="ir.rule">
        <field name="name">Sales Cell Manager</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain_force">[('team_id.user_id', 'in', user.ids)]</field>
        <field name="groups" eval="[(4, ref('iho_security.group_sale_salesman_readonly'))]"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="sales_cell_manager_all" model="ir.rule">
        <field name="name">Sales Cell Manager all</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain_force">[('user_id', '=', user.id)]</field>
        <field name="groups" eval="[(4, ref('iho_security.group_sale_salesman_readonly'))]"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="True"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="crm_cell_manager" model="ir.rule">
        <field name="name">CRM Cell Manager </field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="crm_opportunity" model="ir.rule">
        <field name="name">Opportunity Manager</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain_force">['|',('user_id','=',user.id),('user_id','=',False),('type','=','opportunity')]</field>
        <field name="groups" eval="[(4, ref('iho_security.group_sale_salesman_no_create_leads'))]"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="crm_salesman_lead" model="ir.rule">
        <field name="name">CRM salesman Lead</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain_force">[('message_partner_ids.user_ids','in',user.ids)]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman'))]"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="crm_salesman_opportunity" model="ir.rule">
        <field name="name">CRM salesman opportunity</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain_force">['|', ('create_uid','=',user.id), ('user_id','=', user.id)]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman'))]"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="group_sale_projector" model="res.groups">
        <field name="name">Project Designer</field>
        <field name="category_id" ref="base.module_category_sales_management"/>
        <field name="comment">The user will have access to the whole information on readonly.</field>
        <field name="menu_access" eval="[(4, ref('crm.crm_menu_root')), (4, ref('crm.crm_activity_report_menu')), (4, ref('crm.crm_menu_report'))]"/>
        <field name="rule_groups" eval="[(4, ref('iho_security.sales_senior_only_follower')), (4, ref('iho_security.crm_senior_only_follower'))]"/>
    </record>
    <record id="projector_purchase_orders" model="ir.rule">
        <field name="name">Projector personal Purchase Orders</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain_force">['|',('create_uid','=',user.id),('create_uid','=',False)]</field>
        <field name="groups" eval="[(4, ref('iho_security.group_sale_projector'))]"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="True"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="projector_purchase_orders_follower" model="ir.rule">
        <field name="name">Projector Purchase Orders Follower</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain_force">[('message_partner_ids.user_ids','in',user.ids)]</field>
        <field name="groups" eval="[(4, ref('iho_security.group_sale_projector'))]"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="True"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="projector_purchase_orders_follower_and_create" model="ir.rule">
        <field name="name">Projector order follower and create</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain_force">['|', ('message_partner_ids.user_ids','in',user.ids), ('user_id','=',user.id)]</field>
        <field name="groups" eval="[(4, ref('iho_security.group_sale_projector'))]"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="True"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="sale.menu_sale_order" model="ir.ui.menu">
       <field name="groups_id" eval="[(4, ref('iho_security.group_sale_projector'))]"/>
   </record>
    <record id="crm.crm_menu_sales" model="ir.ui.menu">
       <field name="groups_id" eval="[(4, ref('sales_team.group_sale_manager')), (4, ref('iho_security.group_sale_salesman_readonly')), (4, ref('iho_security.group_sale_projector')), (4, ref('sales_team.group_sale_salesman'))]"/>
   </record>
    <record id="sale.sale_order_menu" model="ir.ui.menu">
       <field name="groups_id" eval="[(4, ref('sales_team.group_sale_salesman'))]"/>
   </record>
</odoo>
