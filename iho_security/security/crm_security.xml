<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="group_sale_salesman_readonly" model="res.groups">
        <field name="name">Branch Manager</field>
        <field name="category_id" ref="base.module_category_sales_management"/>
        <field name="comment">The user will have access to his own people data.</field>
        <field name="implied_ids" eval="[(6, 0, [ref('sales_team.group_sale_salesman')])]"/>
        <field name="menu_access" eval="[(4, ref('crm.crm_menu_root')), (4, ref('crm.crm_activity_report_menu')), (4, ref('crm.crm_menu_report'))]"/>
    </record>
    <record id="sales_team.group_sale_salesman_all_leads" model="res.groups">
        <field name="name">Senior Salesman</field>
    </record>
    <record id="sales_team.group_sale_salesman" model="res.groups">
        <field name="name">Salesman</field>
    </record>
    <record id="sales_team.group_sale_manager" model="res.groups">
        <field name="name">CRM coordinator</field>
    </record>
    <record id="crm_senior_only_follower" model="ir.rule">
        <field name="name">CRM Senior Only Follower </field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain_force">[('message_partner_ids.user_ids','in',user.ids),('create_uid','!=',user.id)]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="crm_senior_follower_and_creator" model="ir.rule">
        <field name="name">CRM Senior Follower and Creator</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain_force">[('message_partner_ids.user_ids','in',user.ids),('create_uid','=',user.id)]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="sales_senior_only_follower" model="ir.rule">
        <field name="name">Sales Senior Only Follower</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain_force">[('opportunity_id', '!=', False), ('opportunity_id.message_partner_ids.user_ids','in',user.ids), ('create_uid','!=',user.id)]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="sales_senior_follower_and_creator" model="ir.rule">
        <field name="name">Sales Senior Follower and Creator</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain_force">[('opportunity_id', '!=', False), ('opportunity_id.message_partner_ids.user_ids','in',user.ids), ('create_uid','=',user.id)]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="sales_cell_manager" model="ir.rule">
        <field name="name">Sales Cell Manager</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="domain_force">[('opportunity_id', '!=', False), ('opportunity_id.team_id.user_id', '=', user.id)]</field>
        <field name="groups" eval="[(4, ref('iho_security.group_sale_salesman_readonly'))]"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="crm_cell_manager" model="ir.rule">
        <field name="name">CRM Cell Manager </field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="domain_force">[('team_id.user_id', '=', user.id)]</field>
        <field name="groups" eval="[(4, ref('iho_security.group_sale_salesman_readonly'))]"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="perm_read" eval="True"/>
    </record>
    <record id="group_sale_projector" model="res.groups">
        <field name="name">Projector</field>
        <field name="category_id" ref="base.module_category_sales_management"/>
        <field name="comment">The user will have access to the whole information on readonly.</field>
        <field name="menu_access" eval="[(4, ref('crm.crm_menu_root')), (4, ref('crm.crm_activity_report_menu')), (4, ref('crm.crm_menu_report'))]"/>
        <field name="rule_groups" eval="[(4, ref('iho_security.sales_senior_only_follower')), (4, ref('iho_security.crm_senior_only_follower'))]"/>
    </record>
</odoo>
